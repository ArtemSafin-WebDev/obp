(this.webpackJsonpobp=this.webpackJsonpobp||[]).push([[0],{48:function(e,a,t){e.exports=t(88)},53:function(e,a,t){},55:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(18),l=t.n(s),o=(t(53),t(2)),i=t.n(o),c=t(7),d=t(13),u=t(14),m=t(17),p=t(16),h=(t(55),t(90));function f(){return(f=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function D(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var g=n.a.createElement("path",{d:"M368 154.668H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 32H16C7.168 32 0 24.832 0 16S7.168 0 16 0h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 277.332H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0"}),Y=function(e){var a=e.svgRef,t=e.title,r=D(e,["svgRef","title"]);return n.a.createElement("svg",f({height:512,viewBox:"0 -53 384 384",width:512,ref:a},r),t?n.a.createElement("title",null,t):null,g)},v=n.a.forwardRef((function(e,a){return n.a.createElement(Y,f({svgRef:a},e))}));t.p;function b(){return(b=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function y(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var E=n.a.createElement("path",{d:"M207.093 30.187L176.907 0l-128 128 128 128 30.186-30.187L109.28 128z"}),M=function(e){var a=e.svgRef,t=e.title,r=y(e,["svgRef","title"]);return n.a.createElement("svg",b({viewBox:"0 0 256 256",ref:a},r),t?n.a.createElement("title",null,t):null,E)},N=n.a.forwardRef((function(e,a){return n.a.createElement(M,b({svgRef:a},e))}));t.p;function w(){return(w=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function S(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var k=n.a.createElement("path",{d:"M255.15 468.625H63.787c-11.737 0-21.262-9.526-21.262-21.262V64.638c0-11.737 9.526-21.262 21.262-21.262H255.15c11.758 0 21.262-9.504 21.262-21.262S266.908.85 255.15.85H63.787C28.619.85 0 29.47 0 64.638v382.724c0 35.168 28.619 63.787 63.787 63.787H255.15c11.758 0 21.262-9.504 21.262-21.262 0-11.758-9.504-21.262-21.262-21.262z"}),C=n.a.createElement("path",{d:"M505.664 240.861L376.388 113.286c-8.335-8.25-21.815-8.143-30.065.213s-8.165 21.815.213 30.065l92.385 91.173H191.362c-11.758 0-21.262 9.504-21.262 21.262 0 11.758 9.504 21.263 21.262 21.263h247.559l-92.385 91.173c-8.377 8.25-8.441 21.709-.213 30.065a21.255 21.255 0 0015.139 6.336c5.401 0 10.801-2.041 14.926-6.124l129.276-127.575A21.303 21.303 0 00512 255.998c0-5.696-2.275-11.118-6.336-15.137z"}),O=function(e){var a=e.svgRef,t=e.title,r=S(e,["svgRef","title"]);return n.a.createElement("svg",w({viewBox:"0 0 512 512",ref:a},r),t?n.a.createElement("title",null,t):null,k,C)},j=n.a.forwardRef((function(e,a){return n.a.createElement(O,w({svgRef:a},e))})),x=(t.p,t(32)),R=t(3),P=t(1),T=t.n(P),I=t(20),z=t(22),H=t(12),L=t.n(H),U=(t(29),t(4)),A=t.n(U),B=(t(30),t(15)),F=t.n(B),W="https://obp-metrix-api.bars.group/v1",J=function(){var e=Object(c.a)(i.a.mark((function e(a,t,r,n,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(W,"/Chart"),{params:{chartType:a,dateFrom:t,dateTo:r,module:n,detail:s}}));case 1:case"end":return e.stop()}}),e)})));return function(a,t,r,n,s){return e.apply(this,arguments)}}(),_=[{value:"day",label:"\u041f\u043e \u0434\u043d\u044f\u043c"},{value:"week",label:"\u041f\u043e \u043d\u0435\u0434\u0435\u043b\u044f\u043c"}],V={seriesType:"bars",series:{2:{type:"line"}},backgroundColor:"#edeef0",bar:{groupWidth:"30%"},colors:["#42bb54","#57a8ea","#e4a232"],fontSize:14,fontName:"Roboto",legend:{position:"bottom"},curveType:"function"},q=[["\u0414\u0430\u0442\u0430","\u0421\u043e\u0437\u0434\u0430\u043d\u043e","\u0417\u0430\u043a\u0440\u044b\u0442\u043e","\u041e\u0442\u043a\u0440\u044b\u0442\u043e"]],G="YYYY-MM-DD",K=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=a.call(this,e)).handleRadioChange=function(e){r.setState({period:e.target.value},(function(){"week"===r.state.period?r.setState({startDate:T()(new Date).subtract(8,"days").format(G),endDate:T()(new Date).subtract(1,"days").format(G),detail:_[0]},(function(){return r.loadData()})):"month"===r.state.period?r.setState({startDate:T()(new Date).subtract(1,"days").subtract(1,"months").format(G),endDate:T()(new Date).subtract(1,"days").format(G),detail:_[1]},(function(){return r.loadData()})):r.setState({detail:_[1]},(function(){return r.loadData()}))}))},r.handleStartDateChange=function(e){T()(r.state.endDate).diff(e,"days")<0?r.setState({startDate:T()(e).format(G),endDate:T()(e).format(G),period:"range"},(function(){return r.loadData()})):r.setState({startDate:T()(e).format(G),period:"range"},(function(){return r.loadData()}))},r.handleEndDateChange=function(e){T()(e).diff(r.state.startDate,"days")<0?r.setState({startDate:T()(e).format(G),endDate:T()(e).format(G),period:"range"},(function(){return r.loadData()})):r.setState({endDate:T()(e).format(G),period:"range"},(function(){return r.loadData()}))},r.handleDetalizationChange=function(e){r.setState({detail:e},(function(){return r.loadData()}))},r.handleModuleChange=function(e){r.setState({module:e},(function(){return r.loadData()}))},r.loadData=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.prev=1,e.next=4,J(r.state.chartType,r.state.startDate,r.state.endDate,r.state.module.value,r.state.detail.value);case 4:a=e.sent,r.setState({loading:!1,data:q.concat(a.data),error:!1,errorMessage:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.setState({loading:!1,error:!0,errorMessage:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),r.state={period:"week",startDate:T()(new Date).subtract(8,"days").format(G),endDate:T()(new Date).subtract(1,"days").format(G),detail:_[0],data:[],chartType:"CLAIMS",module:{value:1,label:"\u0412\u0441\u0435"},loading:!1,error:!1,errorMessage:""},r}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props.modules.map((function(e){return{value:e[0],label:e[1]}}));return n.a.createElement("div",{className:"page"},n.a.createElement("h2",{className:"page-heading"},"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439"),n.a.createElement("form",{className:"graph-filters"},n.a.createElement("div",{className:"graph-period"},n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"week",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"week"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041d\u0435\u0434\u0435\u043b\u044f")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"month",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"month"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041c\u0435\u0441\u044f\u0446")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"range",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"range"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041f\u0435\u0440\u0438\u043e\u0434"))),n.a.createElement("div",{className:"graph-filters-dates-range"},n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u0441:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:G,placeholder:G,onDayChange:this.handleStartDateChange,value:this.state.startDate,inputProps:{readOnly:"readonly"}}))),n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u043f\u043e:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:G,placeholder:G,onDayChange:this.handleEndDateChange,value:this.state.endDate,inputProps:{readOnly:"readonly"}})))),n.a.createElement("div",{className:"graph-filters-dates-select"},n.a.createElement("div",{className:"graph-filters-dates-select-label"},"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"),n.a.createElement("div",{className:"graph-filters-dates-select-wrapper"},n.a.createElement(I.a,{value:this.state.detail,onChange:this.handleDetalizationChange,options:_}))),n.a.createElement("div",{className:"graph-filters-dates-select"},n.a.createElement("div",{className:"graph-filters-dates-select-label"},"\u041c\u043e\u0434\u0443\u043b\u044c"),n.a.createElement("div",{className:"graph-filters-dates-select-wrapper"},n.a.createElement(I.a,{value:this.state.module,onChange:this.handleModuleChange,options:e})))),n.a.createElement("div",{className:"chart"},this.state.loading?n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):n.a.createElement("div",{className:"loader"},this.state.error?"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(this.state.errorMessage):null),n.a.createElement("div",{className:"chart-container"},!this.state.loading&&!this.state.error&&n.a.createElement(z.a,{width:"100%",height:"700px",chartType:"ComboChart",loader:n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0430..."),data:this.state.data,options:V}))))}}]),t}(r.Component),Q=function(){var e=Object(c.a)(i.a.mark((function e(a,t,r,n,s,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(W,"/Chart"),{params:{chartType:a,dateFrom:t,dateTo:r,module:n,detail:s,status:l}}));case 1:case"end":return e.stop()}}),e)})));return function(a,t,r,n,s,l){return e.apply(this,arguments)}}(),X=[{value:"day",label:"\u041f\u043e \u0434\u043d\u044f\u043c"},{value:"week",label:"\u041f\u043e \u043d\u0435\u0434\u0435\u043b\u044f\u043c"}],Z=[{value:"OPENED",label:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e"},{value:"CLOSED",label:"\u0417\u0430\u043a\u0440\u044b\u0442\u043e"},{value:"CREATED",label:"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"}],$={isStacked:!0,backgroundColor:"#edeef0",bar:{groupWidth:"20%"},colors:["#d7874c","#f4c225"],fontSize:14,fontName:"Roboto",legend:{position:"bottom"},curveType:"function"},ee=[["\u0422\u0438\u043f","\u0418\u043d\u0446\u0438\u0434\u0435\u043d\u0442","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f"]],ae=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=a.call(this,e)).handleRadioChange=function(e){r.setState({period:e.target.value},(function(){"week"===r.state.period?r.setState({startDate:T()(new Date).subtract(8,"days").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:X[0]},(function(){return r.loadData()})):"month"===r.state.period?r.setState({startDate:T()(new Date).subtract(1,"days").subtract(1,"months").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:X[1]},(function(){return r.loadData()})):r.setState({detail:X[1]},(function(){return r.loadData()}))}))},r.handleStartDateChange=function(e){T()(r.state.endDate).diff(e,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),period:"range"},(function(){return r.loadData()})):r.setState({startDate:T()(e).format("YYYY-MM-DD"),period:"range"},(function(){return r.loadData()}))},r.handleEndDateChange=function(e){T()(e).diff(r.state.startDate,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),period:"range"},(function(){return r.loadData()})):r.setState({endDate:T()(e).format("YYYY-MM-DD"),period:"range"},(function(){return r.loadData()}))},r.handleDetalizationChange=function(e){r.setState({detail:e},(function(){return r.loadData()}))},r.handleModuleChange=function(e){r.setState({module:e},(function(){return r.loadData()}))},r.handleStatusChange=function(e){r.setState({status:e},(function(){return r.loadData()}))},r.loadData=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.prev=1,e.next=4,Q(r.state.chartType,r.state.startDate,r.state.endDate,r.state.module.value,r.state.detail.value,r.state.status.value);case 4:a=e.sent,console.log("Response",a),r.setState({loading:!1,data:ee.concat(a.data),error:!1,errorMessage:""}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r.setState({loading:!1,error:!0,errorMessage:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),r.state={period:"week",startDate:T()(new Date).subtract(8,"days").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:X[0],data:[],chartType:"CLAIMS_BY_TYPE",module:{value:1,label:"\u0412\u0441\u0435"},loading:!1,error:!1,errorMessage:"",status:Z[0]},r}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.props.modules.map((function(e){return{value:e[0],label:e[1]}}));return n.a.createElement("div",{className:"page"},n.a.createElement("h2",{className:"page-heading"},"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043f\u043e \u0442\u0438\u043f\u0443"),n.a.createElement("form",{className:"graph-filters"},n.a.createElement("div",{className:"graph-period"},n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"week",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"week"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041d\u0435\u0434\u0435\u043b\u044f")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"month",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"month"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041c\u0435\u0441\u044f\u0446")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"range",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"range"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041f\u0435\u0440\u0438\u043e\u0434"))),n.a.createElement("div",{className:"graph-filters-dates-range"},n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u0441:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:"YYYY-MM-DD",placeholder:"YYYY-MM-DD",onDayChange:this.handleStartDateChange,value:this.state.startDate,inputProps:{readOnly:"readonly"}}))),n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u043f\u043e:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:"YYYY-MM-DD",placeholder:"YYYY-MM-DD",onDayChange:this.handleEndDateChange,value:this.state.endDate,inputProps:{readOnly:"readonly"}})))),n.a.createElement("div",{className:"graph-filters-dates-select"},n.a.createElement("div",{className:"graph-filters-dates-select-label"},"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"),n.a.createElement("div",{className:"graph-filters-dates-select-wrapper"},n.a.createElement(I.a,{value:this.state.detail,onChange:this.handleDetalizationChange,options:X}))),n.a.createElement("div",{className:"graph-filters-dates-select"},n.a.createElement("div",{className:"graph-filters-dates-select-label"},"\u0421\u0442\u0430\u0442\u0443\u0441"),n.a.createElement("div",{className:"graph-filters-dates-select-wrapper"},n.a.createElement(I.a,{value:this.state.status,onChange:this.handleStatusChange,options:Z}))),n.a.createElement("div",{className:"graph-filters-dates-select"},n.a.createElement("div",{className:"graph-filters-dates-select-label"},"\u041c\u043e\u0434\u0443\u043b\u044c"),n.a.createElement("div",{className:"graph-filters-dates-select-wrapper"},n.a.createElement(I.a,{value:this.state.module,onChange:this.handleModuleChange,options:e})))),n.a.createElement("div",{className:"chart"},this.state.loading?n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):n.a.createElement("div",{className:"loader"},this.state.error?"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(this.state.errorMessage):null),n.a.createElement("div",{className:"chart-container"},!this.state.loading&&!this.state.error&&n.a.createElement(z.a,{width:"100%",height:"700px",chartType:"ColumnChart",loader:n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0430..."),data:this.state.data,options:$}))))}}]),t}(r.Component),te=function(){var e=Object(c.a)(i.a.mark((function e(a,t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(W,"/Chart"),{params:{chartType:a,dateFrom:t,dateTo:r,detail:n}}));case 1:case"end":return e.stop()}}),e)})));return function(a,t,r,n){return e.apply(this,arguments)}}(),re={isStacked:!0,backgroundColor:"#edeef0",bar:{groupWidth:"40%"},colors:["#dc8f8f","#9ad59f"],fontSize:14,fontName:"Roboto",legend:{position:"bottom"},curveType:"function"},ne=[["\u0414\u0430\u0442\u0430","\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e","\u041f\u0440\u0438\u043d\u044f\u0442\u043e"]],se=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=a.call(this,e)).handleRadioChange=function(e){r.setState({period:e.target.value},(function(){"day"===r.state.period?r.setState({startDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:"hour"},(function(){return r.loadData()})):"week"===r.state.period?r.setState({startDate:T()(new Date).subtract(8,"days").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:"day"},(function(){return r.loadData()})):r.setState({startDate:T()(new Date).subtract(1,"days").subtract(1,"months").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:"day"},(function(){return r.loadData()}))}))},r.handleStartDateChange=function(e){console.log("Start date",e),"day"===r.state.period?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()})):"week"===r.state.period?T()(r.state.endDate).diff(e,"days")>14?r.setState({startDate:T()(e).format("YYYY-MM-DD"),detail:"day",period:"range"},(function(){return r.loadData()})):0===T()(r.state.endDate).diff(e,"days")?r.setState({startDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):T()(r.state.endDate).diff(e,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):r.setState({startDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()})):T()(r.state.endDate).diff(e,"days")<=7&&0!==T()(r.state.endDate).diff(e,"days")?r.setState({startDate:T()(e).format("YYYY-MM-DD"),period:"week",detail:"day"},(function(){return r.loadData()})):0===T()(r.state.endDate).diff(e,"days")?r.setState({startDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):T()(r.state.endDate).diff(e,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):r.setState({startDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()}))},r.handleEndDateChange=function(e){"day"===r.state.period?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()})):"week"===r.state.period?T()(e).diff(r.state.startDate,"days")>14&&0!==T()(e).diff(r.state.startDate,"days")?r.setState({endDate:T()(e).format("YYYY-MM-DD"),detail:"day",period:"range"},(function(){return r.loadData()})):0===T()(e).diff(r.state.startDate,"days")?r.setState({endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):T()(e).diff(r.state.startDate,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):r.setState({endDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()})):T()(e).diff(r.state.startDate,"days")<=7&&0!==T()(e).diff(r.state.startDate,"days")?r.setState({endDate:T()(e).format("YYYY-MM-DD"),period:"week",detail:"day"},(function(){return r.loadData()})):0===T()(e).diff(r.state.startDate,"days")?r.setState({endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):T()(e).diff(r.state.startDate,"days")<0?r.setState({startDate:T()(e).format("YYYY-MM-DD"),endDate:T()(e).format("YYYY-MM-DD"),detail:"hour",period:"day"},(function(){return r.loadData()})):r.setState({endDate:T()(e).format("YYYY-MM-DD")},(function(){return r.loadData()}))},r.handleDetalizationChange=function(e){r.setState({detail:e},(function(){return r.loadData()}))},r.handleModuleChange=function(e){r.setState({module:e},(function(){return r.loadData()}))},r.handleStatusChange=function(e){r.setState({status:e},(function(){return r.loadData()}))},r.loadData=Object(c.a)(i.a.mark((function e(){var a,t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),t=r.state.startDate,n=r.state.endDate,"week"===r.state.period?(t=T()(new Date).subtract(8,"days").format("YYYY-MM-DD"),n=T()(new Date).subtract(1,"days").format("YYYY-MM-DD")):"month"===r.state.period&&(t=T()(new Date).subtract(1,"months").format("YYYY-MM-DD"),n=T()(new Date).subtract(1,"days").format("YYYY-MM-DD")),e.prev=4,e.next=7,te(r.state.chartType,t,n,r.state.detail);case 7:a=e.sent,console.log("Response",a),r.setState({loading:!1,data:ne.concat(a.data),error:!1,errorMessage:""}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),r.setState({loading:!1,error:!0,errorMessage:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[4,12]])}))),r.state={period:"day",startDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),endDate:T()(new Date).subtract(1,"days").format("YYYY-MM-DD"),detail:"hour",data:[],chartType:"CALLS",loading:!1,error:!1,errorMessage:""},r}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return n.a.createElement("div",{className:"page"},n.a.createElement("h2",{className:"page-heading"},"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432"),n.a.createElement("form",{className:"graph-filters"},n.a.createElement("div",{className:"graph-period"},n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"day",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"day"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u0414\u0435\u043d\u044c")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"week",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"week"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041d\u0435\u0434\u0435\u043b\u044f")),n.a.createElement("label",{className:"graph-period-radio"},n.a.createElement("input",{type:"radio",value:"range",name:"period",className:"graph-period-radio-input",onChange:this.handleRadioChange,checked:"range"===this.state.period}),n.a.createElement("span",{className:"graph-period-radio-text"},"\u041f\u0435\u0440\u0438\u043e\u0434"))),n.a.createElement("div",{className:"graph-filters-dates-range"},n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u0441:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:"YYYY-MM-DD",placeholder:"YYYY-MM-DD",onDayChange:this.handleStartDateChange,value:this.state.startDate,inputProps:{readOnly:"readonly"}}))),n.a.createElement("div",{className:"graph-filters-dates-range-picker"},n.a.createElement("div",{className:"graph-filters-dates-range-picker-label"},"\u043f\u043e:"),n.a.createElement("div",{className:"graph-filters-dates-range-picker-wrapper"},n.a.createElement(L.a,{dayPickerProps:{locale:"ru",localeUtils:A.a},formatDate:U.formatDate,parseDate:U.parseDate,format:"YYYY-MM-DD",placeholder:"YYYY-MM-DD",onDayChange:this.handleEndDateChange,value:this.state.endDate,inputProps:{readOnly:"readonly"}}))))),n.a.createElement("div",{className:"chart"},this.state.loading?n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):n.a.createElement("div",{className:"loader"},this.state.error?"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: ".concat(this.state.errorMessage):null),n.a.createElement("div",{className:"chart-container"},!this.state.loading&&!this.state.error&&n.a.createElement(z.a,{width:"100%",height:"700px",chartType:"ColumnChart",loader:n.a.createElement("div",{className:"loader"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0430..."),data:this.state.data,options:re}))))}}]),t}(r.Component),le=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.a.get("".concat(W,"/Chart/modules")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){Object(m.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=a.call(this,e)).handleMenuClick=function(e){r.setState({activeMenuId:e})},r.handleSubMenuClick=function(e){r.setState({activeSubmenuId:e})},r.hideMenu=function(){r.setState({menuShown:!1,activeSubmenuId:null,activeMenuId:null})},r.showMenu=function(){r.setState({menuShown:!0})},r.handleMenu=function(){r.state.menuShown?r.hideMenu():r.showMenu()},r.state={activeMenuId:null,activeSubmenuId:null,modules:[],menuShown:!0,menuItems:[{id:Object(h.a)(),name:"\u041e\u0442\u0447\u0435\u0442\u044b",submenu:[{id:Object(h.a)(),name:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",submenu:[{id:Object(h.a)(),name:"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439",url:"/"},{id:Object(h.a)(),name:"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043f\u043e \u0442\u0438\u043f\u0443",url:"/claims-dynamics-by-type"}]},{id:Object(h.a)(),name:"\u0417\u0432\u043e\u043d\u043a\u0438",submenu:[{id:Object(h.a)(),name:"\u0414\u0438\u043d\u0430\u043c\u0438\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432",url:"/calls-dynamics"}]}]},{id:Object(h.a)(),name:"\u041c\u0435\u0442\u0440\u0438\u043a\u0438"}]},r}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.prev=1,e.next=4,le();case 4:a=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:this.setState({modules:a.data});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return n.a.createElement(x.a,null,n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"layout-top-panel"},n.a.createElement("button",{className:"menu-btn",onClick:function(){return e.handleMenu()}},n.a.createElement(v,{className:"menu-btn-icon"})),n.a.createElement("button",{className:"logout-btn"},n.a.createElement("span",{className:"logout-btn-content"},n.a.createElement(j,{className:"logout-btn-icon"}),"\u0412\u044b\u0439\u0442\u0438"))),n.a.createElement("div",{className:"layout-row"},n.a.createElement("div",{className:"layout-sidebar ".concat(this.state.menuShown?"":"hidden")},n.a.createElement("nav",{className:"menu"},n.a.createElement("ul",{className:"menu-list"},this.state.menuItems.map((function(a){return n.a.createElement("li",{className:"menu-list-item ".concat(e.state.activeMenuId===a.id?"active":""),key:a.id},n.a.createElement("div",{className:"menu-item-link",onClick:function(){return e.handleMenuClick(a.id)}},a.name),a.submenu&&n.a.createElement("ul",{className:"submenu-list"},a.submenu.map((function(a){return n.a.createElement("li",{className:"submenu-list-item ".concat(e.state.activeSubmenuId===a.id?"active":""),key:a.id},n.a.createElement("div",{className:"submenu-item-link",onClick:function(){return e.handleSubMenuClick(a.id)}},a.name),a.submenu&&n.a.createElement("ul",{className:"submenu-list"},a.submenu.map((function(a){return n.a.createElement("li",{className:"submenu-list-item",key:a.id,onClick:function(){return e.hideMenu()}},console.log({item:a}),n.a.createElement(x.b,{to:a.url,className:"submenu-item-link"},a.name))}))))}))))}))),n.a.createElement("button",{className:"menu-close",onClick:function(){return e.handleMenu()}},n.a.createElement(N,{className:"menu-close-arrow"})))),n.a.createElement("div",{className:"layout-main"},n.a.createElement(R.c,null,n.a.createElement(R.a,{path:"/claims-dynamics-by-type"},n.a.createElement(ae,{modules:this.state.modules})),n.a.createElement(R.a,{path:"/calls-dynamics"},n.a.createElement(se,null)),n.a.createElement(R.a,{path:"/"},n.a.createElement(K,{modules:this.state.modules})))))))}}]),t}(r.Component);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(oe,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.577593d3.chunk.js.map